{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport React, { useEffect, useState } from 'react';\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { Entypo } from '@expo/vector-icons';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport Home from \"./Home\";\nimport Profile from \"./Profile\";\nimport { auth, db } from \"../Config/Firebase\";\nimport { collection, getDocs, onSnapshot, query, where } from 'firebase/firestore';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nvar Tab = createBottomTabNavigator();\nvar Stack = createNativeStackNavigator();\nvar named = 'kekekekekeke';\nvar Testing = function Testing() {\n  alert('pressed');\n};\nvar Landing = function Landing(_ref) {\n  var navigation = _ref.navigation,\n    route = _ref.route;\n  var _useState = useState({}),\n    _useState2 = _slicedToArray(_useState, 2),\n    userInfo = _useState2[0],\n    setInfo = _useState2[1];\n  var _useState3 = useState(),\n    _useState4 = _slicedToArray(_useState3, 2),\n    docData = _useState4[0],\n    setdocData = _useState4[1];\n  var _useState5 = useState([]),\n    _useState6 = _slicedToArray(_useState5, 2),\n    users = _useState6[0],\n    setUsers = _useState6[1];\n  useEffect(function () {\n    var user = auth.currentUser;\n    console.log(auth.currentUser.uid);\n    var getUserData = function () {\n      var _ref2 = _asyncToGenerator(function* () {\n        var userRef = collection(db, 'users');\n        var q = query(collection(db, 'users'), where('userId', '==', user.uid));\n        var data = yield getDocs(q);\n        setdocData(data.id);\n        data.forEach(function (results) {\n          console.log('user', results.data());\n          setInfo(_objectSpread(_objectSpread({}, results.data()), {}, {\n            id: results.id\n          }));\n        });\n      });\n      return function getUserData() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    var getUsers = onSnapshot(collection(db, 'users'), where('userId', '==', user.uid), function (data) {\n      console.log('data', data.docs.map(function (doc) {\n        return _objectSpread(_objectSpread({}, doc.data()), {}, {\n          id: doc.id\n        });\n      }));\n      setInfo(data.docs.map(function (doc) {\n        return _objectSpread(_objectSpread({}, doc.data()), {}, {\n          id: doc.id\n        });\n      }).filter(function (x) {\n        return x.userId === user.uid;\n      }));\n    });\n\n  }, []);\n\n  console.log('here', userInfo);\n\n  return _jsx(_Fragment, {\n    children: _jsxs(Tab.Navigator, {\n      children: [_jsx(Tab.Screen, {\n        name: \"Home\",\n        component: Home,\n        options: {\n          headerShown: false,\n          tabBarIcon: function tabBarIcon(_ref3) {\n            var color = _ref3.color,\n              size = _ref3.size;\n            return _jsx(Entypo, {\n              name: \"home\",\n              size: 24,\n              color: color\n            });\n          }\n        }\n      }), _jsx(Tab.Screen, {\n        name: \"profile\",\n        children: function children() {\n          return _jsx(Profile, {\n            userInfo: userInfo\n          });\n        },\n        options: {\n          headerShown: false,\n          tabBarIcon: function tabBarIcon(_ref4) {\n            var color = _ref4.color,\n              size = _ref4.size;\n            return _jsx(MaterialCommunityIcons, {\n              name: \"account\",\n              size: 24,\n              color: color\n            });\n          }\n        }\n      })]\n    })\n  });\n};\nexport default Landing;","map":{"version":3,"names":["React","useEffect","useState","createBottomTabNavigator","MaterialCommunityIcons","NavigationContainer","Entypo","createNativeStackNavigator","Home","Profile","auth","db","collection","getDocs","onSnapshot","query","where","Tab","Stack","named","Testing","alert","Landing","navigation","route","userInfo","setInfo","docData","setdocData","users","setUsers","user","currentUser","console","log","uid","getUserData","userRef","q","data","id","forEach","results","getUsers","docs","map","doc","filter","x","userId","headerShown","tabBarIcon","color","size"],"sources":["/Users/mlab/Documents/Clockify/components/Landing.js"],"sourcesContent":["import { StyleSheet, Text, View,Image, Pressable } from 'react-native';\r\nimport React, { useEffect, useState } from 'react'\r\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\r\nimport { MaterialCommunityIcons } from '@expo/vector-icons'; \r\nimport { NavigationContainer } from '@react-navigation/native';\r\nimport { Entypo } from '@expo/vector-icons';\r\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\r\nimport Home from './Home';\r\nimport Profile from './Profile';\r\n\r\nimport { auth, db } from '../Config/Firebase';\r\nimport { collection, getDocs, onSnapshot, query, where } from 'firebase/firestore';\r\nconst Tab = createBottomTabNavigator();\r\n\r\nconst Stack = createNativeStackNavigator();\r\n\r\nconst named = 'kekekekekeke'\r\nconst Testing = () =>{\r\n   \r\n  alert('pressed')\r\n    \r\n}\r\n\r\n\r\n\r\n\r\nconst Landing = ({navigation, route}) =>{\r\n\r\n    const [userInfo, setInfo] = useState({})\r\n    const [docData, setdocData] = useState()\r\n\r\n    const [users, setUsers] = useState([]);\r\n    useEffect(()=>{\r\n\r\n      \r\n     \r\n        //getting current logged user\r\n        const user = auth.currentUser;\r\n         console.log(auth.currentUser.uid)\r\n        const getUserData = async() =>{\r\n          const userRef = collection(db,'users')\r\n          const q = query(collection(db,'users'), where('userId', '==', user.uid))\r\n          const data = await getDocs(q);\r\n          setdocData( data.id) \r\n          data.forEach((results)=>{ \r\n            console.log('user',results.data())\r\n            setInfo({...results.data(), id:results.id})\r\n          })        \r\n    \r\n    \r\n        }\r\n        const getUsers = onSnapshot(collection(db,'users'), where('userId', '==', user.uid ),(data)=>{\r\n          console.log('data',data.docs.map((doc)=>({...doc.data(), id:doc.id})))\r\n          setInfo(data.docs.map((doc)=>({...doc.data(),id:doc.id})).filter(x=>x.userId === user.uid))\r\n        \r\n          \r\n        })\r\n      \r\n        // getUserData()\r\n\r\n        // const userCollectionRef = collection(db, \"users\")\r\n\r\n        // const getUsers = async () => {\r\n        //   const data = await getDocs(userCollectionRef);\r\n        //   setUsers(\r\n        //     data.docs.map((doc) => ({\r\n        //       name: doc.data().name,\r\n           \r\n        //       userId: doc.data().userId,\r\n        //       email: doc.data().email,\r\n        //       surname: doc.data().surname,\r\n            \r\n        //     }))\r\n        //   );\r\n        // }\r\n        // getUsers();\r\n       \r\n      },[])\r\n\r\n      // let userInfo = [];\r\n      // // for (let i = 0; i < users.length; i++) {\r\n      // //   if (users[i].userId === auth.currentUser.uid) {\r\n      // //     userInfo.push(users[i]);\r\n    \r\n      // //   }\r\n        \r\n    \r\n    \r\n      // }\r\n    \r\n   console.log('here',userInfo)\r\n\r\n  //  const userData = userInfo.filter(x=>x.userId ==='sdsdsds')\r\n  // if(userInfo!=undefined){\r\n  //   const user = auth.currentUser;\r\n  //   const userData = userInfo.filter(x=>x.userId === user.uid)\r\n   \r\n  //   console.log('doc data', userData)\r\n  // }\r\n  // console.log('doc data', userData)\r\n    return(\r\n        <>\r\n  \r\n<Tab.Navigator>\r\n      <Tab.Screen name=\"Home\" component={Home} \r\n       options={{\r\n        headerShown:false,\r\n       \r\n        tabBarIcon: ({ color, size }) => (\r\n          <Entypo name=\"home\" size={24} color={color} />\r\n        ),\r\n      }} />\r\n      <Tab.Screen  name=\"profile\" children={()=><Profile  userInfo={userInfo} />}\r\n       options={{\r\n        headerShown:false,\r\n      \r\n        tabBarIcon: ({ color, size }) => (\r\n            <MaterialCommunityIcons name=\"account\" size={24} color={color} />\r\n        ),\r\n      }} />\r\n  </Tab.Navigator>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Landing;\r\n\r\n"],"mappings":";;;;;;;;;;AACA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,wBAAwB,QAAQ,+BAA+B;AACxE,SAASC,sBAAsB,QAAQ,oBAAoB;AAC3D,SAASC,mBAAmB,QAAQ,0BAA0B;AAC9D,SAASC,MAAM,QAAQ,oBAAoB;AAC3C,SAASC,0BAA0B,QAAQ,gCAAgC;AAC3E,OAAOC,IAAI;AACX,OAAOC,OAAO;AAEd,SAASC,IAAI,EAAEC,EAAE;AACjB,SAASC,UAAU,EAAEC,OAAO,EAAEC,UAAU,EAAEC,KAAK,EAAEC,KAAK,QAAQ,oBAAoB;AAAC;AAAA;AAAA;AACnF,IAAMC,GAAG,GAAGd,wBAAwB,EAAE;AAEtC,IAAMe,KAAK,GAAGX,0BAA0B,EAAE;AAE1C,IAAMY,KAAK,GAAG,cAAc;AAC5B,IAAMC,OAAO,GAAG,SAAVA,OAAO,GAAQ;EAEnBC,KAAK,CAAC,SAAS,CAAC;AAElB,CAAC;AAKD,IAAMC,OAAO,GAAG,SAAVA,OAAO,OAA2B;EAAA,IAAtBC,UAAU,QAAVA,UAAU;IAAEC,KAAK,QAALA,KAAK;EAE/B,gBAA4BtB,QAAQ,CAAC,CAAC,CAAC,CAAC;IAAA;IAAjCuB,QAAQ;IAAEC,OAAO;EACxB,iBAA8BxB,QAAQ,EAAE;IAAA;IAAjCyB,OAAO;IAAEC,UAAU;EAE1B,iBAA0B1B,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA/B2B,KAAK;IAAEC,QAAQ;EACtB7B,SAAS,CAAC,YAAI;IAKV,IAAM8B,IAAI,GAAGrB,IAAI,CAACsB,WAAW;IAC5BC,OAAO,CAACC,GAAG,CAACxB,IAAI,CAACsB,WAAW,CAACG,GAAG,CAAC;IAClC,IAAMC,WAAW;MAAA,8BAAG,aAAU;QAC5B,IAAMC,OAAO,GAAGzB,UAAU,CAACD,EAAE,EAAC,OAAO,CAAC;QACtC,IAAM2B,CAAC,GAAGvB,KAAK,CAACH,UAAU,CAACD,EAAE,EAAC,OAAO,CAAC,EAAEK,KAAK,CAAC,QAAQ,EAAE,IAAI,EAAEe,IAAI,CAACI,GAAG,CAAC,CAAC;QACxE,IAAMI,IAAI,SAAS1B,OAAO,CAACyB,CAAC,CAAC;QAC7BV,UAAU,CAAEW,IAAI,CAACC,EAAE,CAAC;QACpBD,IAAI,CAACE,OAAO,CAAC,UAACC,OAAO,EAAG;UACtBT,OAAO,CAACC,GAAG,CAAC,MAAM,EAACQ,OAAO,CAACH,IAAI,EAAE,CAAC;UAClCb,OAAO,iCAAKgB,OAAO,CAACH,IAAI,EAAE;YAAEC,EAAE,EAACE,OAAO,CAACF;UAAE,GAAE;QAC7C,CAAC,CAAC;MAGJ,CAAC;MAAA,gBAXKJ,WAAW;QAAA;MAAA;IAAA,GAWhB;IACD,IAAMO,QAAQ,GAAG7B,UAAU,CAACF,UAAU,CAACD,EAAE,EAAC,OAAO,CAAC,EAAEK,KAAK,CAAC,QAAQ,EAAE,IAAI,EAAEe,IAAI,CAACI,GAAG,CAAE,EAAC,UAACI,IAAI,EAAG;MAC3FN,OAAO,CAACC,GAAG,CAAC,MAAM,EAACK,IAAI,CAACK,IAAI,CAACC,GAAG,CAAC,UAACC,GAAG;QAAA,uCAAQA,GAAG,CAACP,IAAI,EAAE;UAAEC,EAAE,EAACM,GAAG,CAACN;QAAE;MAAA,CAAE,CAAC,CAAC;MACtEd,OAAO,CAACa,IAAI,CAACK,IAAI,CAACC,GAAG,CAAC,UAACC,GAAG;QAAA,uCAAQA,GAAG,CAACP,IAAI,EAAE;UAACC,EAAE,EAACM,GAAG,CAACN;QAAE;MAAA,CAAE,CAAC,CAACO,MAAM,CAAC,UAAAC,CAAC;QAAA,OAAEA,CAAC,CAACC,MAAM,KAAKlB,IAAI,CAACI,GAAG;MAAA,EAAC,CAAC;IAG7F,CAAC,CAAC;;EAqBJ,CAAC,EAAC,EAAE,CAAC;;EAaRF,OAAO,CAACC,GAAG,CAAC,MAAM,EAACT,QAAQ,CAAC;;EAU3B,OACI;IAAA,UAER,MAAC,GAAG,CAAC,SAAS;MAAA,WACR,KAAC,GAAG,CAAC,MAAM;QAAC,IAAI,EAAC,MAAM;QAAC,SAAS,EAAEjB,IAAK;QACvC,OAAO,EAAE;UACR0C,WAAW,EAAC,KAAK;UAEjBC,UAAU,EAAE;YAAA,IAAGC,KAAK,SAALA,KAAK;cAAEC,IAAI,SAAJA,IAAI;YAAA,OACxB,KAAC,MAAM;cAAC,IAAI,EAAC,MAAM;cAAC,IAAI,EAAE,EAAG;cAAC,KAAK,EAAED;YAAM,EAAG;UAAA;QAElD;MAAE,EAAG,EACL,KAAC,GAAG,CAAC,MAAM;QAAE,IAAI,EAAC,SAAS;QAAC,QAAQ,EAAE;UAAA,OAAI,KAAC,OAAO;YAAE,QAAQ,EAAE3B;UAAS,EAAG;QAAA,CAAC;QAC1E,OAAO,EAAE;UACRyB,WAAW,EAAC,KAAK;UAEjBC,UAAU,EAAE;YAAA,IAAGC,KAAK,SAALA,KAAK;cAAEC,IAAI,SAAJA,IAAI;YAAA,OACtB,KAAC,sBAAsB;cAAC,IAAI,EAAC,SAAS;cAAC,IAAI,EAAE,EAAG;cAAC,KAAK,EAAED;YAAM,EAAG;UAAA;QAEvE;MAAE,EAAG;IAAA;EACO,EAEP;AAEX,CAAC;AAED,eAAe9B,OAAO"},"metadata":{},"sourceType":"module"}